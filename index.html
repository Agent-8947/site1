<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Production Site | DNA Engine</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        --dna-bg: #09090B;
        --dna-text: #FFFFFF;
        --dna-accent: #3B82F6;
        --dna-font: 'Space Grotesk', sans-serif;
        --dna-container: 1200px;
        --dna-radius: 8px;
      }
      body { 
        background: var(--dna-bg); 
        color: var(--dna-text); 
        font-family: var(--dna-font); 
        margin: 0; 
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
      }
      .container-dna { 
          max-width: var(--dna-container); 
          margin: 0 auto; 
          padding: 0 1.5rem;
      }
      .glass-nav { 
        background: rgba(0,0,0,0.8); 
        backdrop-filter: blur(16px);
        border-bottom: 1px solid rgba(255,255,255,0.1); 
      }
      .visual-clip { overflow: hidden; position: relative; width: 100%; }
      img, video { display: block; object-fit: cover; width: 100%; height: 100%; }
      .fade-in { animation: fadeIn 0.8s ease-out forwards; opacity: 0; }
      @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script>window.__DNA_STATE__ = {"uiTheme":{"fonts":"#FFFFFF","darkPanel":"#0F172A","lightPanel":"#1E293B","elements":"#38BDF8","accents":"#3B82F6","interfaceScale":105,"uiFontWeight":900,"uiElementStroke":1,"uiTextBrightness":100,"uiBaseFontSize":16,"panelX":0,"panelY":0,"isFloating":false},"globalSettings":{"GL01":{"name":"Text","params":[{"id":"P1","name":"Base Size","type":"range","value":"16","min":10,"max":24},{"id":"P2","name":"Scale Ratio","type":"range","value":"1.25","min":1.1,"max":2},{"id":"P3","name":"Line Height","type":"range","value":"1.5","min":1,"max":2.5},{"id":"P4","name":"Weight","type":"range","value":"900","min":100,"max":900},{"id":"P5","name":"Tracking","type":"range","value":"-0.02","min":-0.05,"max":0.5},{"id":"P6","name":"Uppercase","type":"toggle","value":"false","min":0,"max":0},{"id":"P7","name":"Smoothing","type":"toggle","value":"true","min":0,"max":0},{"id":"P8","name":"Font Family","type":"select","value":"Space Grotesk","min":0,"max":0,"options":["Space Grotesk","Inter","Roboto","Open Sans","Manrope","Agency","Ancorli","Share Tech","Lilex","Orbitron","Google Sans","Code"]}]},"GL02":{"name":"Colors","params":[{"id":"P1","name":"Base Bg","type":"color","value":"#09090B","min":0,"max":100},{"id":"P2","name":"Surface","type":"color","value":"#18181B","min":0,"max":100},{"id":"P3","name":"Accent","type":"color","value":"#3B82F6","min":0,"max":100},{"id":"P4","name":"Text Prim","type":"color","value":"#FFFFFF","min":0,"max":100},{"id":"P5","name":"Text Sec","type":"color","value":"#A1A1AA","min":0,"max":100},{"id":"P6","name":"Border","type":"color","value":"#27272A","min":0,"max":100},{"id":"P7","name":"Inversion","type":"toggle","value":"false","min":0,"max":100},{"id":"P8","name":"BG Pattern","type":"select","value":"None","min":0,"max":100,"options":["None","Noise","Dots","Checkered","Grid"]},{"id":"P9","name":"Pattern Opacity","type":"range","value":"10","min":0,"max":100},{"id":"P10","name":"Pattern Size","type":"range","value":"20","min":4,"max":100}]},"GL03":{"name":"Spacing","params":[{"id":"P1","name":"Grid Unit","type":"range","value":"8","min":2,"max":16},{"id":"P2","name":"Gap","type":"range","value":"24","min":0,"max":100},{"id":"P3","name":"Pad X","type":"range","value":"40","min":0,"max":120},{"id":"P4","name":"Pad Y","type":"range","value":"20","min":0,"max":80},{"id":"P5","name":"Margin","type":"range","value":"0","min":0,"max":60},{"id":"P6","name":"Container","type":"range","value":"1200","min":320,"max":1920},{"id":"P7","name":"Flow","type":"range","value":"1.0","min":0.5,"max":2}]},"GL04":{"name":"Buttons","params":[{"id":"P1","name":"Size","type":"range","value":"1.0","min":0.5,"max":2},{"id":"P2","name":"Pad X","type":"range","value":"24","min":8,"max":64},{"id":"P3","name":"Pad Y","type":"range","value":"12","min":4,"max":32},{"id":"P4","name":"Typo","type":"range","value":"12","min":8,"max":24},{"id":"P5","name":"Stroke","type":"range","value":"1","min":0,"max":4},{"id":"P6","name":"Radius","type":"range","value":"4","min":0,"max":40},{"id":"P7","name":"Shadow","type":"toggle","value":"false","min":0,"max":0}]},"GL05":{"name":"Inputs","params":[{"id":"P1","name":"Height","type":"range","value":"44","min":32,"max":64},{"id":"P2","name":"Radius","type":"range","value":"4","min":0,"max":32},{"id":"P3","name":"Stroke","type":"range","value":"1","min":0,"max":3},{"id":"P4","name":"Bg Fill","type":"color","value":"#FFFFFF","min":0,"max":0},{"id":"P5","name":"Focus","type":"color","value":"#3B82F6","min":0,"max":0},{"id":"P6","name":"Placeholder","type":"color","value":"#9CA3AF","min":0,"max":0},{"id":"P7","name":"Labels","type":"color","value":"#374151","min":0,"max":0}]},"GL06":{"name":"Effects & Depth","params":[{"id":"P1","name":"Shadow Intensity","type":"range","value":"10","min":0,"max":100},{"id":"P2","name":"Shadow Blur","type":"range","value":"20","min":0,"max":60},{"id":"P3","name":"Glass Blur","type":"range","value":"0","min":0,"max":40},{"id":"P4","name":"Glass Opacity","type":"range","value":"100","min":0,"max":100},{"id":"P5","name":"Border Width","type":"range","value":"0","min":0,"max":4},{"id":"P6","name":"Border Opacity","type":"range","value":"10","min":0,"max":100},{"id":"P7","name":"Inner Glow","type":"range","value":"0","min":0,"max":100}]},"GL07":{"name":"Radius","params":[{"id":"P1","name":"Global","type":"range","value":"8","min":0,"max":40},{"id":"P2","name":"Inner","type":"range","value":"4","min":0,"max":40},{"id":"P3","name":"Outer","type":"range","value":"12","min":0,"max":40},{"id":"P4","name":"Button","type":"range","value":"4","min":0,"max":40},{"id":"P5","name":"Input","type":"range","value":"4","min":0,"max":40},{"id":"P6","name":"Card","type":"range","value":"16","min":0,"max":40},{"id":"P7","name":"Multiplier","type":"range","value":"1.0","min":0.5,"max":2}]},"GL08":{"name":"Icons","params":[{"id":"P1","name":"Size","type":"range","value":"20","min":12,"max":48},{"id":"P2","name":"Stroke","type":"range","value":"1.5","min":0.5,"max":3},{"id":"P3","name":"Optical","type":"range","value":"0","min":-2,"max":2},{"id":"P4","name":"Align","type":"range","value":"0.5","min":0,"max":1},{"id":"P5","name":"Set ID","type":"range","value":"1","min":1,"max":10},{"id":"P6","name":"Style","type":"range","value":"1","min":1,"max":5},{"id":"P7","name":"Spacing","type":"range","value":"8","min":0,"max":24}]},"GL09":{"name":"Animation","params":[{"id":"P1","name":"Duration","type":"range","value":"0.6","min":0.1,"max":2},{"id":"P2","name":"Easing","type":"range","value":"0.1","min":0,"max":0.5},{"id":"P3","name":"Entrance","type":"range","value":"20","min":0,"max":100},{"id":"P4","name":"Hover","type":"range","value":"0.95","min":0.8,"max":1.1},{"id":"P5","name":"Scroll","type":"range","value":"10","min":0,"max":40},{"id":"P6","name":"Loop","type":"range","value":"1","min":1,"max":5},{"id":"P7","name":"Physics","type":"range","value":"0.3","min":0.1,"max":1}]},"GL10":{"name":"System Meta","params":[{"id":"P1","name":"SEO","type":"range","value":"0","min":0,"max":100},{"id":"P2","name":"Analytics","type":"range","value":"0","min":0,"max":100},{"id":"P3","name":"API Root","type":"range","value":"0","min":0,"max":100},{"id":"P4","name":"Export","type":"range","value":"0","min":0,"max":100},{"id":"P5","name":"Meta","type":"range","value":"0","min":0,"max":100},{"id":"P6","name":"Environment","type":"range","value":"0","min":0,"max":100},{"id":"P7","name":"Theme Mode","type":"select","value":"Dark","min":0,"max":100,"options":["Light","Dark"]}]},"GL11":{"name":"Sticky Navigation","params":[{"id":"P1","name":"Sticky Mode","type":"toggle","value":"true","min":0,"max":100}]}},"pages":{"home":[{"id":"3eed5b61-d602-429d-8a04-d04773ca8634","type":"B0101","localOverrides":{"data":{"header":"000-GEN","links":[{"label":"System","url":"#"},{"label":"Nodes","url":"#"}],"stickyLogic":"true"},"control":{"F-C01":"header","F-C06":"stickyLogic"},"layout":{"F-L04":"80","F-L06":"100%","paddingX":"40"},"style":{"F-S02":null,"F-S06":"true","useGlobalDNA":true,"backgroundPattern":null,"bgFill":null,"borderRadius":"8px"},"effects":{"F-E02":"slide-down"},"inheritance":"0111GL"},"isVisible":true},{"id":"B0201-CORE","type":"B0201","isVisible":true,"localOverrides":{"data":{"title":"DESIGN DRIVEN BY DNA","titleTypo":{"useGlobal":true,"fontSize":"48","fontWeight":"800","letterSpacing":"-0.02","lineHeight":"1.1","uppercase":true},"description":"Configure your interface through global genetic parameters or local overrides.","descriptionTypo":{"useGlobal":true,"fontSize":"18","fontWeight":"400","letterSpacing":"0","lineHeight":"1.6","uppercase":false},"primaryBtnText":"Launch System","primaryBtnVisible":true,"secondaryBtnText":"Read Protocol","secondaryBtnVisible":true},"layout":{"height":"85vh","alignment":"center","paddingTop":"80px"},"style":{"bgFill":"","titleColor":"","descColor":""},"media":{"showImage":true,"imageUrl":"https://images.unsplash.com/photo-1634017839464-5c339ebe3cb4?auto=format&fit=crop&q=80&w=2000","imagePosition":"right","imageOpacity":100,"imageScale":100,"shape":"square","levitation":false,"levitationSpeed":"3"},"background":{"lockBackground":false,"fixedColor":"#FFFFFF"},"btnUseGlobal":true,"btnStyles":{"size":"1.0","padX":"28","padY":"16","font":"14","stroke":"1","radius":"6","shadow":"false"},"animation":{"useGlobal":true,"duration":"0.8","stagger":"0.15","entranceY":"40"}}},{"id":"002fe137-7573-4d49-a124-eb6b770ea105","type":"B0301","localOverrides":{"data":{"groups":[{"id":"g1","title":"Modular Architecture","items":[{"name":"React 18","level":95},{"name":"Zustand","level":90}]},{"id":"g2","title":"Data Propagation","items":[{"name":"Immer","level":85},{"name":"DNA Sync","level":100}]}]},"layout":{"columns":"2","gap":"60","paddingY":"120"},"style":{"useGlobalDNA":true,"backgroundPattern":null,"bgFill":null,"borderRadius":"8px"}},"isVisible":true}]},"currentPage":"home"};</script>
    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const VisualRenderer = ({ media, shape }) => {
            if (!media || (!media.imageUrl && !media.videoUrl)) return null;
            const isVideo = media.type === 'video' || (media.videoUrl && !media.imageUrl);
            
            const shapeStyles = useMemo(() => {
                const base = "visual-clip shadow-2xl transition-transform hover:scale-[1.02] duration-700 ";
                switch(shape) {
                    case 'circle': return base + "aspect-square rounded-full";
                    case 'square': return base + "aspect-square rounded-[var(--dna-radius)]";
                    case 'portrait': return base + "aspect-[3/4] rounded-[calc(var(--dna-radius)*2)]";
                    case 'landscape': return base + "aspect-[16/9] rounded-[calc(var(--dna-radius)*2)]";
                    default: return base + "aspect-video rounded-[var(--dna-radius)]";
                }
            }, [shape]);

            return (
                <div className={shapeStyles}>
                    {isVideo ? (
                        <video src={media.videoUrl} autoPlay muted loop playsInline />
                    ) : (
                        <img src={media.imageUrl} alt="Production Visual" loading="lazy" />
                    )}
                </div>
            );
        };

        const MasterBlock = ({ block, index, isStickyNav }) => {
            const overrides = block?.localOverrides || {};
            const data = overrides?.data || {};
            const media = overrides?.media || {};
            const style = overrides?.style || {};
            
            // Universal list detection
            const list = data.items || data.stats || data.groups || data.features || data.sections || data.tabs || data.platforms || data.tags || [];
            const hasList = list.length > 0;
            const hasVisual = media.imageUrl || media.videoUrl;
            
            // Layout Logic
            const isSplit = hasVisual && !hasList && data.title;
            const isGrid = hasList;
            const isCenter = !isSplit && !isGrid;

            const isNavbar = block.type.includes('Navbar');
            const isFooter = block.type.includes('Footer');

            if (isNavbar) {
                return (
                    <nav className={(isStickyNav ? 'fixed top-0 left-0 w-full z-50 glass-nav' : 'relative w-full') + " h-20 transition-all"}>
                        <div className="container-dna h-full flex items-center justify-between">
                            <div className="font-black text-xl tracking-[0.3em] italic uppercase">{data.header || "DNA_GEN"}</div>
                            <div className="flex gap-8">
                                {(data.links || []).map((link, i) => (
                                    <a key={i} href={link.url} className="text-[10px] font-black uppercase tracking-widest opacity-40 hover:opacity-100">{link.label}</a>
                                ))}
                            </div>
                        </div>
                    </nav>
                );
            }

            const paddingY = style.paddingY || overrides.layout?.paddingY || '100';
            const textAlign = style.textAlign || overrides.layout?.alignment || (isCenter ? 'center' : 'left');

            return (
                <section 
                    id={block.id}
                    style={{ 
                        paddingTop: paddingY + 'px', 
                        paddingBottom: paddingY + 'px',
                        backgroundColor: style.bgFill || 'transparent',
                        textAlign: textAlign
                    }} 
                    className="border-b border-white/5 relative overflow-hidden"
                >
                    <div className="container-dna">
                        {isSplit && (
                            <div className={"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center " + (index % 2 === 0 ? "" : "lg:flex-row-reverse")}>
                                <div className={index % 2 !== 0 ? "lg:order-2 fade-in" : "fade-in"}>
                                     <h2 className="text-5xl md:text-7xl font-black mb-8 leading-[0.9] uppercase tracking-tighter italic">
                                        {data.title}
                                     </h2>
                                     <p className="text-xl opacity-50 leading-relaxed mb-10 max-w-xl">
                                        {data.description || data.subtitle || data.body}
                                     </p>
                                     {(data.primaryBtnVisible !== false || data.secondaryBtnVisible !== false) && (
                                        <div className="flex flex-wrap gap-4">
                                            {data.primaryBtnVisible !== false && <button className="px-10 py-5 bg-[var(--dna-accent)] text-white font-black uppercase tracking-widest text-[10px] rounded-full hover:scale-105 transition-transform">{data.primaryBtnText || "Initialize"}</button>}
                                            {data.secondaryBtnVisible !== false && <button className="px-10 py-5 border border-white/20 font-black uppercase tracking-widest text-[10px] rounded-full hover:bg-white/5 transition-colors">{data.secondaryBtnText || "Protocol"}</button>}
                                        </div>
                                     )}
                                </div>
                                <div className={(index % 2 !== 0 ? "lg:order-1" : "") + " flex justify-center fade-in"}>
                                    <VisualRenderer media={media} shape={media.shape} />
                                </div>
                            </div>
                        )}

                        {isGrid && (
                            <div className="fade-in">
                                <div className={"max-w-3xl mb-16 " + (textAlign === 'center' ? 'mx-auto' : '')}>
                                    <h2 className="text-4xl md:text-5xl font-black mb-4 uppercase tracking-tight italic">{data.title || "Grid_Structure"}</h2>
                                    <p className="text-sm opacity-40 uppercase tracking-[0.3em]">{data.description || data.subtitle}</p>
                                </div>
                                <div className={"grid gap-6 " + (list.length === 2 ? 'grid-cols-1 md:grid-cols-2' : list.length === 3 ? 'grid-cols-1 md:grid-cols-3' : 'grid-cols-1 md:grid-cols-2 lg:grid-cols-4')}>
                                    {list.map((item, i) => (
                                        <div key={i} className="p-8 border border-white/5 rounded-[calc(var(--dna-radius)*2)] bg-white/[0.02] hover:bg-white/[0.05] transition-all group">
                                            {item.value && <div className="text-5xl font-black text-[var(--dna-accent)] mb-4 tracking-tighter">{item.value}</div>}
                                            {item.date && <div className="text-[10px] font-black opacity-30 mb-2 uppercase">{item.date}</div>}
                                            <h3 className="text-lg font-bold mb-3 uppercase tracking-tight">{item.title || item.name || item.label || item.question}</h3>
                                            <p className="opacity-40 text-sm leading-loose">{item.desc || item.text || item.answer || item.quote}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {isCenter && (
                            <div className="max-w-4xl mx-auto flex flex-col items-center fade-in">
                                <h2 className="text-4xl md:text-6xl font-black mb-8 uppercase tracking-tighter italic text-center leading-[0.9]">{data.title || data.header || data.companyName}</h2>
                                {data.description && <p className="text-lg opacity-40 leading-relaxed text-center max-w-2xl">{data.description}</p>}
                                {hasVisual && <div className="w-full max-w-2xl mt-12"><VisualRenderer media={media} shape={media.shape} /></div>}
                                {isFooter && <div className="mt-10 text-[10px] opacity-20 uppercase tracking-[0.5em]">&copy; 2024 DNA Engine Deployed</div>}
                            </div>
                        )}
                    </div>
                </section>
            );
        };

        const App = () => {
            const data = window.__DNA_STATE__;
            if (!data) return <div className="h-screen flex items-center justify-center">DNA_LOST</div>;

            const blocks = data.pages?.[data.currentPage || 'home'] || [];
            const isSticky = true;

            return (
                <main className="relative">
                    {blocks.filter(b => b.isVisible).map((b, idx) => (
                        <MasterBlock key={b.id} block={b} index={idx} isStickyNav={isSticky} />
                    ))}
                </main>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>